<!DOCTYPE html><html><head><meta charset="UTF-8">
<style type="text/css">
	#paper { border: 3px solid green; }
</style>
<script type="text/javascript">
	var a4;			var ctx;  // 전역변수로 하기 위해서
	function draw() {
		a4 = document.getElementById("paper");
		ctx  = a4.getContext("2d");
		setInterval(mainLoop, 30);  // 0.03초마다 mainLoop fn 실행
	}
	function mainLoop() {
		//                  r    g      b   alpha
		ctx.fillStyle="rgba(100 ,100 , 100, 0.2)"; // 진한 회색
		ctx.fillRect(0, 0, 300, 300); // 배경색
		ctx.save();
		var x = Math.random() * 300;  // x좌표를 캔버스 안에 설정
		var y = Math.random() * 300;
		ctx.shadowColor = "white";   // 그림자 색
		var color = randomColor();  // fn randomColor실행 값을 받음
		ctx.fillStyle = color;  // 지금부터 그림에 random한 색 반영
		var what = Math.floor(Math.random() * 2); // 0, 1
		if (what == 0 ) {
			ctx.fillRect(x, y, 10, 10);
		} else {
			ctx.beginPath();
			ctx.arc(x, y, 10, 0, Math.PI*2, true);
			ctx.fill();
		}
		ctx.restore();
	}
	function randomColor() {
		var r = Math.floor(Math.random() * 256);  // 0 ~ 255
		var g = Math.floor(Math.random() * 256);  // 0 ~ 255
		var b = Math.floor(Math.random() * 256);  // 0 ~ 255
		return "rgb("+r+","+g+","+b+")";
	}
</script></head><body onload="draw()">
	<canvas id="paper" width="300" height="300"></canvas>
</body>
</html>